(this["webpackJsonpwuhan-fighting"]=this["webpackJsonpwuhan-fighting"]||[]).push([[0],{107:function(e,t,n){e.exports=n(202)},112:function(e,t,n){},192:function(e,t,n){},202:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(3),c=n.n(o),i=(n(112),n(104),n(93)),u=n(25),l=r.a.createContext(null),s=(n(203),n(66)),m=(n(116),n(14)),g=(n(118),n(67)),f=n(103),d=n(97),h=n.n(d).a.create({baseURL:"https://lab.isaaclin.cn/nCoV",timeout:5e3});h.interceptors.response.use((function(e){if(200===e.status)return e.data}),(function(e){return Promise.reject(e.response)}));var y=h,p=n(98),b=n.n(p),v=Object(u.a)((function(){var e=Object(a.useContext)(l).store,t=Object(a.useState)(["summarize"]),n=Object(f.a)(t,2),o=n[0],c=n[1],i=Object(a.useRef)([{key:"summarize",icon:"info-circle",title:"\u6982\u62ec",url:"/api/overall"},{key:"trend",icon:"area-chart",title:"\u8d8b\u52bf",url:""}]);return Object(a.useEffect)((function(){var t=i.current.find((function(e){return e.key===o[0]}));t&&t.url&&"{}"==JSON.stringify(e.getData)&&(e.setLoading(!0),y({method:"GET",url:t?t.url:""}).then((function(t){e.setData(t.results),localStorage.setItem("cache",JSON.stringify(t.results)),e.setLoading(!1),console.log(e.getData)})).catch((function(){e.setLoading(!1);var t=JSON.parse(localStorage.getItem("cache"));null!=t?(g.a.error("\u670d\u52a1\u5668\u9519\u8bef\uff0c\u5df2\u4f7f\u7528\u7f13\u5b58\u6570\u636e\uff0c\u66f4\u65b0\u65f6\u95f4".concat(b()(t[0].updateTime).format("YYYY-MM-DD HH:mm:ss"))),e.setData(t)):g.a.error("\u670d\u52a1\u5668\u9519\u8bef\uff0c\u8bf7\u7a0d\u540e\u518d\u8bd5")})))}),[o,e]),r.a.createElement(s.a,{defaultSelectedKeys:o,mode:"horizontal",onClick:function(t){console.log(t),c([t.key]),e.setMenuKey(t.key)}},i.current.map((function(e){return r.a.createElement(s.a.Item,{key:e.key},r.a.createElement(m.a,{type:e.icon}),e.title)})))})),E=Object(u.a)((function(){var e=Object(a.useContext)(l).store,t=e.getData[0]||{};return r.a.createElement(r.a.Fragment,null,r.a.createElement(r.a.Suspense,{fallback:r.a.createElement("div",null,"Loading...")},function(){switch(e.getMenuKey){case"summarize":var a=r.a.lazy((function(){return Promise.all([n.e(3),n.e(5)]).then(n.bind(null,232))}));return r.a.createElement(a,{data:t});case"trend":var o=r.a.lazy((function(){return n.e(4).then(n.bind(null,233))}));return r.a.createElement(o,{data:t})}}()))})),O=(n(192),Object(u.a)((function(){var e=Object(u.b)({data:{},loading:!1,menuKey:"summarize",setData:function(t){e.data=JSON.parse(JSON.stringify(t))},setLoading:function(t){e.loading=t},setMenuKey:function(t){e.menuKey=t},get getData(){return JSON.parse(JSON.stringify(e.data))},get getLoading(){return e.loading},get getMenuKey(){return e.menuKey}});return r.a.createElement(l.Provider,{value:{store:e}},r.a.createElement(i.a,{spinning:e.getLoading},r.a.createElement("div",{className:"App"},r.a.createElement(v,null),r.a.createElement(E,null))))})));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));n(201);c.a.render(r.a.createElement(O,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[107,1,2]]]);
//# sourceMappingURL=main.1373ab2c.chunk.js.map